{% extends 'base.html' %}
{% block content %}
<div class="container">
  <h2>Families</h2>
  <a href="/admin/families/add" class="btn btn-primary mb-3">Add Family</a>
  <a href="/admin/families/import" class="btn btn-secondary mb-3">Import Families</a>
  <form method="post" action="/admin/families/clear" class="d-inline" onsubmit="return confirm('Are you sure you want to clear all families?')">
    <button type="submit" class="btn btn-danger mb-3">Clear All Families</button>
  </form>
  <table class="table">
    <thead>
      <tr>
        <th>Phone</th>
        <th>Troop</th>
        <th>Adults</th>
        <th>Kids</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for f in families %}
        <tr>
          <td>{{ f['phone'] }}</td>
          <td>{{ f['troop'] or '—' }}</td>
          <td>{{ f['adults'] or '—' }}</td>
          <td>{{ f['kids'] or '—' }}</td>
          <td><a href="/admin/families/edit/{{ f['id'] }}" class="btn btn-sm btn-secondary">Edit</a></td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
  <a href="/admin" class="btn btn-secondary">Back to Admin</a>
</div>
{% endblock %}